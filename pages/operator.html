<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Panel Operatora | CNC-01</title>

    <link rel="stylesheet" href="../css/shared.css">
    <link rel="stylesheet" href="../css/operator-hmi.css">
    
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
</head>
<body>

    <div id="dashboard-container" style="display: block; margin: 0 auto;">
        <h2>Status Maszyny CNC-01</h2>
        
        <div style="text-align: right; margin-bottom: 10px;">
            <button onclick="window.location.href='../index.html'" style="background-color: #6c757d; font-size: 0.8em; padding: 5px 10px; color: white; border: none; border-radius: 4px; cursor: pointer;">
                Wyloguj
            </button>
        </div>

        <div id="status-indicator" style="padding: 20px; border-radius: 8px; font-weight: bold; margin-bottom: 15px; background-color: #ddd;">
            ŁĄCZENIE Z MASZYNĄ...
        </div>

        <div style="display: flex; gap: 20px; justify-content: center;">
            <div class="stat-box">
                <p>Jakość <br>(%):</p>
                <h3 id="quality-percent">--</h3>
            </div>
            <div class="stat-box">
                <p>Suma sztuk:</p>
                <h3 id="pieces-count">0</h3>
            </div>
            <div class="stat-box">
                <p>Braki (NOK):</p>
                <h3 id="scrap-count">0</h3>
            </div>
        </div>
    </div>

    <script src="../js/core/config.js"></script>
    <script src="../js/modules/operator.js"></script>

    <script>
        // Skrypt startowy specyficzny dla tej strony
        // Uruchamia logikę operatora natychmiast po załadowaniu strony
        document.addEventListener('DOMContentLoaded', () => {
            if (typeof window.startOperatorLogic === 'function') {
                window.startOperatorLogic();
            }
        });
    </script>

</body>
</html>